<!DOCTYPE html>
<html lang="en" data-ng-app="app">

<head>
  <meta charset="utf-8">
  <title>Income vs. Transit Stops in the San Francisco Bay Area</title>
  <link href="./assets/css/bootstrap.css" rel="stylesheet">
  <link href="./assets/css/site.css" rel="stylesheet">
  <script src="./assets/libs/d3/d3.min.js"></script>
  <script src="./assets/libs/topojson.v1.min.js"></script>
  <script src="./assets/libs/angular/angular.min.js"></script>
  <script src="./assets/js/app.js"></script>
</head>
<body>
  <div class="top">
    <div class="row">
      <div class="span8">
        <h2>Inequality &amp; Mass Transit in the Bay Area</h2>
        <p class="byline">a data experiment by <a href="http://twitter.com/dangrover">@dangrover</a> and <a href="http://twitter.com/mikez">@mikez</a></p>
      </div>
    </div>
  </div>

  <div class="container" data-ng-controller="AppCtrl">
    <div class="row">
      <div class="span8" id="intro">
        <p>
          <a href="http://newyorker.com/sandbox/business/subway.html">A recent feature in <i>The New Yorker</i></a>  
          juxtaposed New York City's subway stops with their residents' incomes. We were inspired and wondered how those graphs would look in our neck of the woods. Like NYC, San Francisco has people of <a href="http://www.sfgate.com/realestate/article/RICH-CITY-POOR-CITY-Middle-class-neighborhoods-2494307.php">both extreme povery and wealth</a>, often living toe-to-toe. 
        </p>
        <br/>
      </div>
    </div>
    <div class="row" data-ng-show="agencies">
      <div class="span3">

          <!-- MUNI -->
          <h5>MUNI</h5>
          <div class="agency-container">
           <div class="btn-group dropdown muni-routes">
            <button class="btn btn-small muni-line">
              <a href="#" data-ng-click="displayRoute('MUNI', '1094')" style="background: #f8a637">J</a>
            </button>
            <button class="btn btn-small muni-line">
              <a href="#" data-ng-click="displayRoute('MUNI', '1196', '#529cbb')" style="background: #529cbb">K</a>
            </button>
            <button class="btn btn-small muni-line">
              <a href="#" data-ng-click="displayRoute('MUNI', '1198')" style="background: #92278f">L</a>
            </button>
            <button class="btn btn-small muni-line">
              <a href="#" data-ng-click="displayRoute('MUNI', '1199')" style="background: #028753">M</a>
            </button>
            <button class="btn btn-small muni-line">
              <a href="#" data-ng-click="displayRoute('MUNI', '1093')" style="background: #00529a">N</a>
            </button>
            <button class="btn btn-small muni-line">
              <a href="#" data-ng-click="displayRoute('MUNI', '1196','#ed1c24')" style="background: #ed1c24">T</a>
            </button>

            <!-- Busses 'n' stuff -->
            <a class="dropdown-toggle btn btn-small" id="muni-more" role="button" data-toggle="dropdown" data-target="#" href="#">
              More <b class="caret"></b>
            </a>
            <ul class="dropdown-menu" role="menu" aria-labelledby="muni-more">
             <li data-ng-repeat="(routeId, route) in (agencies['MUNI'].routes | orderBy:'name')">
              <a href="#" data-ng-click="displayRoute('MUNI', routeId)" data-ng-hide="route.important">
                {{route.name}}
              </a>
            </li>
          </ul>
        </div>
      </div>

      <br/>


    <!-- BART -->
    <h5>BART</h5>
    <div class="agency-container">
     <ul class="agency-routes nav nav-tabs nav-stacked">
      <li data-ng-repeat="(routeId, route) in agencies['BART'].routes">
        <a href="#" data-ng-click="displayRoute('BART', routeId)">
          <span class="swatch" data-ng-style="{'background-color': route.color}"></span>
          {{route.name}}
        </a>
      </li>
    </ul>
  </div>

<!-- CalTrain -->
 <h5>CalTrain</h5>
      <div class="agency-container">
        <div class="btn-group caltrain-routes">
          <a class="btn btn-small" href="#" data-ng-click="displayRoute('CalTrain', 'ct_local_20121001')">
            <span class="swatch" style="background-color: white"></span>
            Local
          </a>
          <a class="btn btn-small" href="#" data-ng-click="displayRoute('CalTrain', 'ct_limited_20121001')">
            <span class="swatch" style="background-color: yellow"></span>
            Limited
          </a>
          <a class="btn btn-small" href="#" data-ng-click="displayRoute('CalTrain', 'ct_bullet_20121001')">
            <span class="swatch" style="background-color: red"></span>
            Bullet
          </a>
        </div>
      </div>

</div>




<div class="span6">

 <div id="graph">
  <div id="instructions"><p>&larr; Tap a line to get started!</p></div>
</div>

</div>
</div><!-- /row -->

<div class="row" id="bottom">
 <div class="span5">
    <h6>Methodology</h6>
    <p>Data gathered from the 2010 US Census, using the values from census tracts where the stops are located. Stop and route information gathered from their respective agencies' GTFS feeds.</p>
</div>

  <div class="pull-right span3">
    <h6>Share</h6>
    <!-- facebook gizmo -->
    <div id="fb-root">
    </div>
    <script>
    (function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s);
      js.id = id;
      js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=196057697206036";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
    </script>
    <div class="fb-like" data-send="false" data-layout="button_count" data-width="120"
    data-show-faces="false">
  </div>

<br/>
  

<a href="https://twitter.com/share" class="twitter-share-button" data-via="DanGrover">Tweet</a>
<script>
!function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0],
  p = /^http:/.test(d.location) ? 'http' : 'https';
  if (!d.getElementById(id)) {
    js = d.createElement(s);
    js.id = id;
    js.src = p + '://platform.twitter.com/widgets.js';
    fjs.parentNode.insertBefore(js, fjs);
  }
}(document, 'script', 'twitter-wjs');
</script>

<br/>

<iframe src="http://ghbtns.com/github-btn.html?user=dangrover&amp;repo=sf-transit-inequality&amp;type=watch&amp;count=true"
  allowtransparency="true" frameborder="0" scrolling="0" width="70" height="20">
</iframe>

</div>



</div>



</div>


<!-- /container -->

<div id="map">
  <svg width="100%" height="400"></svg>
  <div id="bottom-gradient"></div>
</div>


</body>

</html>